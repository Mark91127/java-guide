# 陣列

<!-- TOC -->
* [陣列](#陣列)
  * [陣列 (Array)](#陣列-array)
    * [特性](#特性)
    * [宣告方式](#宣告方式)
    * [基本使用方式](#基本使用方式)
    * [多維陣列](#多維陣列)
  * [重點整理](#重點整理)
<!-- TOC -->

## 陣列 (Array)

是一種`資料結構`，用來儲存`固定大小`的同類型元素集合。它的元素在記憶體中是連續存儲的，因此陣列提供了高效的隨機存取功能。

### 特性

- 創建時就需要指定大小，並且大小一旦確定就`無法改變`。
- 陣列中的所有元素必須是`相同類型`，可以為`基本型別`或`物件型別`。
- 可以直接通過索引訪問任意位置的元素，時間複雜度為`O(1)`。
- 索引從 `0` 開始。
- 支持多維陣列。

### 宣告方式

```text
型別[] 變數名稱 = new 型別[容量];
```

### 基本使用方式

- 創建時指定大小。

```java
int[] arr = new int[5];
```

- 創建陣列的同時賦值。

```java
int[] arr = {1, 2, 3, 4, 5};
```

- 獲取陣列的長度。

```java
int length = arr.length;
```

- 使用索引來訪問陣列中的元素

```java
int value = arr[2];
```

- 使用索引來修改陣列中的元素。

```java
arr[3] = 10;  // 將陣列中索引為 3 的元素設置為 10
```

- 使用常規 `for`、`for-each`等循環方法遍歷陣列元素。

```java
// for
for (int i = 0; i < arr.length; i++) {
    System.out.println(arr[i]);
}

// for each
for (int num : arr) {
    System.out.println(num);
}
```

- 使用 `Arrays.copyOf()` 方法來創建一個新陣列並複製原陣列的元素。

```java
int[] newArr = Arrays.copyOf(arr, arr.length);
```

### 多維陣列

`Java`支持多維陣列，如二維陣列（即陣列的陣列）。二維陣列通常用來表示矩陣或表格等結構。

- 創建時指定大小。

```java
int[][] matrix = new int[3][3];  // 創建一個 3x3 的二維陣列
```

- 創建陣列的同時賦值。

```java
int[][] matrix = {
    {1, 2, 3},
    {4, 5, 6},
    {7, 8, 9}
};
```

- 使用索引來訪問陣列中的元素

```java
int value = matrix[1][2];  // 獲取第二行第三列的元素
matrix[0][1] = 10;         // 將第一行第二列的元素設置為 10
```

這樣是否編譯成功？

```java
int[][] matrix = new int[1][];
```

這樣編譯是可以通過的，因為`Java`支持`不完全初始化`。前提是必須創建陣列的第一維而不指定其內部的元素數量或結構，然後稍後再進行初始化。

```java
// 創建一個大小為 1 的二維陣列
int[][] matrix = new int[1][];

// 初始化 matrix[0] 為大小為 3 的一維陣列
matrix[0] = new int[3];
```

## 重點整理

- 創建時就需要指定大小，並且大小一旦確定就`無法改變`。
- 陣列中的所有元素必須是`相同類型`，可以為`基本型別`或`物件型別`。
- 可以直接通過索引訪問任意位置的元素，時間複雜度為`O(1)`。
- 索引從 `0` 開始。
- 支持多維陣列。
- `不完全初始化`的前提必須創建陣列的第一維。